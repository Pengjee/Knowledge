## 垃圾回收
JavaScript没有一个标准的垃圾回收api，在编写JavaScript的过程中，内存的分配以及内存的回收完全实现了自动管理。通过垃圾收集器每隔固定的事件段找出
哪些不再需要继续使用的变量，执行一次释放占用内存的操作。

### 引用计数法
引用计数法： 跟踪记录每个值被引用的次数，当声明了一个变量并将一个引用类型赋值给该变量时，则这个值的引用次数就是 1，如果这个值再被赋值给另一个变量，则引用次数加 1。相反，如果包含对这个值引用的变量又取得了另外一个值，则这个值的引用次数就减 1。当这个引用次数变成 0 时，则说明没有办法再访问这个值了，因而就可以将其所占的内存空间给收回来。这样，垃圾收集器下次再运行时，它就会释放那些引用次数为 0 的值所占的内存。

但是引用计算法存在一个问题**循环引用**。`a`,`b`两个变量相互引用对方，那么这两个变量就永远无法被销毁，可能会造成大量的内存得不到回收，也就是内存泄漏
```js
function problem() {
  var a = new Object();
  var b = new Object();
  a.ref = b;
  b.ref = a;
}
```
### 标记清除法
当程序执行流入到一个函数中时，会创建该函数的执行上下文，执行上下文中的变量都会被标记为 进入环境，从逻辑上讲，永远不能释放 进入执行环境 变量所占用的内存。因为只要执行流进入相应的执行上下文，就可能会用到这些变量。

标记清除的工作流程：
- 垃圾收集器在运行的时候会给存储在内存的中的 **所有变量都加上标记**
- 去掉 **执行上下文中的变量** 以及 **被环境中的变量引用的变量** 的标记
- 那些 **还存在标记的变量将被视为准备删除的变量**
- 最后垃圾收集器完成内存清除工作，销毁那些带标记的值并回收它们所占用的内存空间
